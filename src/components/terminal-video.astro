---
import TerminalWindow from './terminal-window.astro';

interface Props {
  src: string;
  title?: string;
}

const { src, title = 'haloy deploy' } = Astro.props;
---

<TerminalWindow title={title} icon="terminal">
  <!-- Scanline effect overlay -->
  <div class="terminal-scanlines"></div>

  <!-- Video -->
  <video autoplay muted loop playsinline preload="auto" class="block h-auto w-full">
    <source src={src} type="video/webm" />
  </video>
</TerminalWindow>

<style>
  /* Subtle scanline effect */
  .terminal-scanlines {
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
    pointer-events: none;
    z-index: 2;
    opacity: 0.5;
  }
</style>
