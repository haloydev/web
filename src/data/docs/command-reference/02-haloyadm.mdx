---
title: 'haloyadm'
slug: 'haloyadm'
section: command-reference
---

import Code from '@/components/code.astro';

Complete reference for haloyadm server administration commands.

Commands run on the server to manage the Haloy daemon and services.

## Commands

### init

Initialize haloyd and HAProxy (first-time setup).

<Code code={`
  # Basic initialization
  sudo haloyadm init

  # Initialize with API domain and TLS
  sudo haloyadm init --api-domain haloy.example.com --acme-email you@example.com

  # Initialize for non-root installation
  haloyadm init --local-install
`} lang="bash" />

**Options:**

<div class="list-unstyled">
- `--api-domain <domain>` - Domain for Haloy API with TLS
- `--acme-email <email>` - Email for Let's Encrypt certificates
- `--local-install` - Install in user directory (non-root)
</div>

### start

Start haloyd and HAProxy services.

<Code code={`
  # Start services
  sudo haloyadm start

  # Start with local development image
  sudo haloyadm start --dev

  # Start with debug logging
  sudo haloyadm start --debug

  # Combine options
  sudo haloyadm start --dev --debug
`} lang="bash" />

**Options:**

<div class="list-unstyled">
- `--dev` - Use local haloyd image for development
- `--debug` - Enable debug mode with verbose logging
</div>

### stop

Stop haloyd and HAProxy services.

<Code code="sudo haloyadm stop" lang="bash" />

### restart

Restart haloyd and HAProxy services.

<Code code="sudo haloyadm restart" lang="bash" />

**Options:**

<div class="list-unstyled">
- `--dev` - Use local haloyd image
- `--debug` - Enable debug mode
</div>

### api token

Generate a new API token.

<Code code="sudo haloyadm api token" lang="bash" />

Returns a token that can be used with `haloy server add` on local machines.

### api domain

Set or update the API domain and TLS configuration.

<Code code={`
  # Set API domain with TLS
  sudo haloyadm api domain <domain> <email>

  # Example
  sudo haloyadm api domain haloy.example.com admin@example.com
`} lang="bash" />

**Arguments:**

<div class="list-unstyled">
- `<domain>` - Domain for the Haloy API
- `<email>` - Email address for Let's Encrypt certificates
</div>

## Exit Codes

The `haloyadm` CLI uses consistent exit codes:

<div class="list-unstyled">
- `0` - Success
- `1` - Any error
</div>
